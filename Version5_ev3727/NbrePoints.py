import numpy as np 
import matplotlib.pyplot as plt 


# Données brutes sous forme de chaîne de caractères
raw_data_10_12_HEM = """PCOOL:   11064066.0       11039276.0       11014233.0       10988916.0       10963304.0       10937371.0       10911089.0       10884430.0       10857674.0       10800000.0    
 VCOOL:   9.22747898       9.34656525       9.47211361       9.60475349       9.74524403       9.89447784       10.0534410       10.2233124       10.3701534       14.1478682    
 DCOOL:   758.624023       748.958252       739.031189       728.825317       718.318298       707.484253       696.297607       684.727905       675.032166       494.787415    
 TCOOL:   552.640747       557.817444       562.893677       567.861145       572.711853       577.436523       582.023438       586.459961       589.947205       589.856201    
 EPS:   0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000      0.293673635    
 XFL:   0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       3.62490304E-02
 TSAT:   591.667725       591.499084       591.328430       591.155640       590.980469       590.802795       590.622437       590.439087       590.254761       589.856201    
 MUT:   9.53140188E-05   9.31605318E-05   9.10622039E-05   8.90111551E-05   8.69992145E-05   8.50185243E-05   8.30619028E-05   8.11221835E-05   7.95498199E-05   7.96065724E-05
"""

raw_data_30_12_HEM = """PCOOL:   11123604.0       11115394.0       11107159.0       11098897.0       11090608.0       11082290.0       11073944.0       11065568.0       11057162.0       11048725.0       11040256.0       11031754.0       11023218.0       11014647.0       11006041.0       10997399.0       10988719.0       10980000.0       10971242.0       10962443.0       10953602.0       10944717.0       10935789.0       10926814.0       10915232.0       10900782.0       10881757.0       10858510.0       10831279.0       10800000.0    
 VCOOL:   9.18816090       9.22649479       9.26548958       9.30513954       9.34549904       9.38657475       9.42839050       9.47095776       9.51431656       9.55849266       9.60349846       9.64937878       9.69615936       9.74387550       9.79255581       9.84224033       9.89298248       9.94479179       9.99770737       10.0517807       10.1070595       10.1636124       10.2214689       10.2806911       10.6733389       11.0547171       11.6615744       12.4737806       13.3021364       14.1477661    
 DCOOL:   761.868896       758.702637       755.511047       752.290527       749.041260       745.763428       742.457092       739.118652       735.751099       732.350647       728.918274       725.452820       721.952576       718.417114       714.845947       711.236938       707.589722       703.901917       700.176636       696.411133       692.601318       688.747437       684.848877       680.903625       655.834167       633.188354       600.243896       561.205627       526.268005       494.791016    
 TCOOL:   550.901367       552.648926       554.385132       556.111328       557.826843       559.531006       561.223206       562.904663       564.573059       566.229797       567.873596       569.504395       571.122070       572.726196       574.316101       575.891907       577.453003       578.999329       580.528931       582.041931       583.539001       585.019165       586.481506       587.925903       589.382812       590.148621       590.420715       590.260498       590.072571       589.856201    
 EPS:   0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       3.31557319E-02   6.72476888E-02  0.120103262      0.184345141      0.241853729      0.293667793    
 XFL:   0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       3.06277536E-03   6.51867501E-03   1.23383719E-02   2.02000923E-02   2.81706899E-02   3.62480469E-02
 TSAT:   592.071472       592.015930       591.960144       591.904114       591.847900       591.791504       591.734802       591.677917       591.620789       591.563416       591.505737       591.447876       591.389709       591.331238       591.272583       591.213562       591.154297       591.094666       591.034790       590.974609       590.914062       590.853149       590.791992       590.730408       590.650879       590.551575       590.420715       590.260498       590.072571       589.856201    
 MUT:   9.60588441E-05   9.53271592E-05   9.46029541E-05   9.38852463E-05   9.31739050E-05   9.24687774E-05   9.17697034E-05   9.10757590E-05   9.03874898E-05   8.97038844E-05   8.90250521E-05   8.83505927E-05   8.76801350E-05   8.70134099E-05   8.63502719E-05   8.56902116E-05   8.50330543E-05   8.43783637E-05   8.37265106E-05   8.30769859E-05   8.24290255E-05   8.17825785E-05   8.11375430E-05   8.04934753E-05   7.98348046E-05   7.94807784E-05   7.93925938E-05   7.94533480E-05   7.95245796E-05   7.96065724E-05
"""

raw_data_10_14_HEM = """PCOOL:   11182431.0       11157467.0       11132194.0       11106582.0       11080598.0       11054205.0       11027360.0       11000362.0       10937704.0       10800000.0    
 VCOOL:   9.23518753       9.37508965       9.52394581       9.68281174       9.85298729       10.0360031       10.2335978       10.4053240       14.7708807       17.8416557    
 DCOOL:   757.990356       746.679016       735.008484       722.948669       710.462219       697.507385       684.038330       672.755981       474.030670       392.350800    
 TCOOL:   553.084717       559.108765       564.993774       570.727051       576.294983       581.680908       586.865112       590.897888       590.805115       589.856201    
 EPS:   0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000      0.325494885      0.460497051    
 XFL:   0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       4.26205732E-02   7.16807097E-02
 TSAT:   592.468811       592.300415       592.129639       591.956238       591.780029       591.600647       591.417908       591.233826       590.805115       589.856201    
 MUT:   9.51674738E-05   9.26681969E-05   9.02416214E-05   8.78750798E-05   8.55559265E-05   8.32722872E-05   8.10128913E-05   7.91918064E-05   7.92467690E-05   7.96065724E-05
"""

raw_data_30_14_HEM = """PCOOL:   11247262.0       11239006.0       11230719.0       11222400.0       11214047.0       11205660.0       11197238.0       11188780.0       11180283.0       11171749.0       11163174.0       11154558.0       11145899.0       11137196.0       11128448.0       11119653.0       11110810.0       11101917.0       11092972.0       11083974.0       11074919.0       11063151.0       11048310.0       11028076.0       11002467.0       10972180.0       10937057.0       10896858.0       10851286.0       10800000.0    
 VCOOL:   9.18928719       9.23405743       9.27973461       9.32629967       9.37386417       9.42239380       9.47196102       9.52259922       9.57434082       9.62723637       9.68132877       9.73666286       9.79332161       9.85133743       9.91076374       9.97169399       10.0341501       10.0982018       10.1639709       10.2315102       10.3009071       10.7295790       11.1488132       11.9192162       12.8499813       13.8005810       14.7727852       15.7686510       16.7906666       17.8416538    
 DCOOL:   761.774658       758.080322       754.350098       750.581360       746.774658       742.927368       739.040161       735.109741       731.137329       727.120117       723.057190       718.947388       714.788818       710.580017       706.318298       702.000977       697.633301       693.207520       688.721863       684.175354       679.565918       652.391663       627.854736       587.402344       544.870239       507.346497       473.957764       444.011841       416.957520       392.350800    
 TCOOL:   551.056274       553.094238       555.117493       557.126526       559.120056       561.098694       563.060974       565.007568       566.936768       568.848938       570.743286       572.619080       574.476013       576.313477       578.131165       579.928894       581.703003       583.455322       585.184998       586.890747       588.571838       590.320801       591.254578       591.422791       591.248169       591.041199       590.800659       590.524597       590.210693       589.856201    
 EPS:   0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       3.52795497E-02   7.20374361E-02  0.137902632      0.208276525      0.270374298      0.325623631      0.375156254      0.419872642      0.460497051    
 XFL:   0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       0.00000000       3.32895666E-03   7.17659341E-03   1.47267152E-02   2.39066370E-02   3.32119726E-02   4.26407419E-02   5.21937571E-02   6.18728921E-02   7.16807097E-02
 TSAT:   592.904785       592.849365       592.793701       592.737793       592.681641       592.625244       592.568542       592.511597       592.454346       592.396790       592.338928       592.280762       592.222290       592.163452       592.104248       592.044739       591.984863       591.924622       591.863953       591.802917       591.741455       591.661499       591.560547       591.422791       591.248169       591.041199       590.800659       590.524597       590.210693       589.856201    
 MUT:   9.60334510E-05   9.51817929E-05   9.43399064E-05   9.35069329E-05   9.26827415E-05   9.18664155E-05   9.10578965E-05   9.02562533E-05   8.94615223E-05   8.86728885E-05   8.78899955E-05   8.71124648E-05   8.63397509E-05   8.55714025E-05   8.48068375E-05   8.40454231E-05   8.32879814E-05   8.25330062E-05   8.17801119E-05   8.10290803E-05   8.02794384E-05   7.94870648E-05   7.90541890E-05   7.90122285E-05   7.90785634E-05   7.91571583E-05   7.92484643E-05   7.93532017E-05   7.94722291E-05   7.96065724E-05
"""


# Traitement de chaque ligne pour extraire les valeurs numériques
def extraire(var_name, line_nb, data_name):
    data_lines = data_name.strip().split("\n")
    values = data_lines[line_nb].split(":")[1]
    # Séparation des valeurs en une liste de flottants
    for value in values.split():
        var_name.append(float(value))
    return

# Affichage du tableau des valeurs triées
PCOOL10=[]
PCOOL30=[]
EPS10=[]
EPS30=[]
extraire(PCOOL10, 0, raw_data_10_14_HEM)
extraire(PCOOL30, 0, raw_data_30_14_HEM)
extraire(EPS10, 4, raw_data_10_14_HEM)
extraire(EPS30, 4, raw_data_30_14_HEM)
"""extraire(VCOOL, 1)
extraire(DCOOL, 2)
extraire(TCOOL, 3)
extraire(EPS, 4)
extraire(XFL, 5)
extraire(TSAT, 6)
extraire(MUT, 7)"""
Zaxis10=np.linspace(0,2,len(PCOOL10))
Zaxis30=np.linspace(0,2,len(PCOOL30))
figeps, axeps = plt.subplots()
axeps.plot(Zaxis10,EPS10, label='Epsilon, powi=0.14, 10, delth1')
axeps.plot(Zaxis30,EPS30, label='Epsilon, powi=0.14, 30, delth1')
axeps.set_xlabel("Axial position in m")
axeps.set_ylabel("Void fraction")
axeps.set_title("Effect of Pressure Drop and Martinellis Coefficient")
axeps.grid()
axeps.legend(loc="best")
plt.show()
figeps.savefig(rf'/home/p122173/Version5_BWR/Version5_ev3727/Donjon/data/results_marie/eps_10_30_14.png', bbox_inches='tight')

figp, axp = plt.subplots()
axp.plot(Zaxis10,PCOOL10, label='Pressure, powi=0.14, 10, delth1')
axp.plot(Zaxis30,PCOOL30, label='Pressure, powi=0.14, 30, delth1')
axp.set_xlabel("Axial position in m")
axp.set_ylabel("Pressure in Pa")
axp.set_title("Effect of Pressure Drop and Martinellis Coefficient")
axp.grid()
axp.legend(loc="best")
plt.show()
figp.savefig(rf'/home/p122173/Version5_BWR/Version5_ev3727/Donjon/data/results_marie/P_10_30_14.png', bbox_inches='tight')


